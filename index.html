<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>My Love</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Quicksand:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>

<!-- LOVE FALL -->
<script>
  function createFallingLove() {
    const love = document.createElement("div");
    love.innerText = "â™¡";
    love.classList.add("falling-love");
    love.style.left = Math.random() * 100 + "vw";
    love.style.fontSize = (20 + Math.random() * 20) + "px";
    love.style.animationDuration = (2 + Math.random() * 3) + "s";
    document.body.appendChild(love);
    setTimeout(() => love.remove(), 5000);
  }
  setInterval(createFallingLove, 300);
</script>

<!-- BGM -->
<audio id="bgm" src="b.m4a" loop></audio>

<!-- PAGE 1 -->
<div class="page" id="page1">
    <div class="glass-box">
        <img src="cat.gif.gif" class="cat">
        <h1 class="title">Softly Yours</h1>
        <p class="description">i made this little space just for you. Aku cuma bisa diam dan simpan rasa ini, tapi aku pengen kamu ngerasain sedikit dari apa yang aku rasain setiap hari.</p>
        <button onclick="playClick(); goTo(2)">GO GO GO</button>
    </div>
</div>

<!-- PAGE 2 GAME -->
<div class="page" id="page2">
    <div class="glass-box">
        <h2>Mini Game ðŸŽ®</h2>
        <p>Cari pasangan kartu yang sama!<br> Selesaikan dulu baru bisa next halaman.</p>
        <div id="gameBoard" class="game-board"></div>
        <p id="moves">Moves: 0</p>
        <button id="nextBtn" onclick="goTo(3)" disabled>Next</button>
    </div>
</div>

<!-- PAGE 3 -->
<div class="page" id="page3">
    <div class="glass-box">
        <h2> Unspoken Things
</h2>
        <p>Sometimes I try to text you, or even just say hi in my head, but I stop. I keep thinking maybe you already have someone, or maybe youâ€™d feel annoyed if I said anything. I like you more than I probably should, and that makes me overthink everything.

I notice the little things you do, and they stick with me, making me smile even when I try not to. I wish I could be braver, just tell you how I feel, but I canâ€™t. So I keep it quiet, keeping all these feelings here, hoping maybe youâ€™d somehow notice in your own way.

And yeahâ€¦ right now, I made this web just for you. Really, I built it from scratch, for you only. </p>
        <img src="fotov.jpg.jpg" alt="Foto Surprise">
        <button onclick="goTo(4)">Next</button>
    </div>
</div>

<!-- PAGE 4 -->
<div class="page" id="page4">
    <div class="glass-box">
        <h2>Song for U ðŸŽµ</h2>
        <p>This song isnâ€™t just a melodyâ€”itâ€™s about thinking of you di setiap momen sunyi. 'Daydreaminâ€™' fits perfectly for those times my mind drifts to you, membayangkan hal-hal yang belum aku bilang, little daydreams yang aku simpan cuma untuk kamu. Aku belum cukup berani untuk bilang langsung apa yang aku rasain, jadi lagu ini yang mewakili semuanya.</p>

        <!-- YouTube Video -->
        <div class="video-container">
            <iframe id="ytplayer" src="https://www.youtube.com/embed/piiLZJNKRVM?enablejsapi=1"
                frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
        </div>

        <!-- Spotify Embed -->
        <div class="spotify-container">
            <iframe id="spotifyPlayer" src="https://open.spotify.com/embed/track/4l32eKkVL8yHwFnI222Z8K" 
                width="100%" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        </div>

        <button onclick="goTo(5)">Next</button>
    </div>
</div>

<!-- PAGE 5 -->
<div class="page" id="page5">
    <div class="glass-box">
        <h2>Message for You ðŸ’Œ</h2>
        <div class="letter-box">
            <p id="typewriter"></p>
        </div>
        <button onclick="goTo(1)">Back to Start</button>
    </div>
</div>

<!-- SCRIPT -->
<script src="script.js"></script>

<!-- YouTube API -->
<script>
var tag=document.createElement('script');
tag.src="https://www.youtube.com/iframe_api";
document.body.appendChild(tag);

let player;
function onYouTubeIframeAPIReady(){
    if(!document.getElementById('ytplayer')) return;
    player=new YT.Player('ytplayer',{ events:{'onStateChange':onPlayerStateChange}});
}

function onPlayerStateChange(event){
    const bgm=document.getElementById("bgm");
    if(event.data===1 && !bgm.paused) bgm.pause();
}

// Spotify pause BGM + YouTube
const spotifyPlayer = document.getElementById("spotifyPlayer");
spotifyPlayer.addEventListener("click", () => {
    const bgm = document.getElementById("bgm");
    if(!bgm.paused) bgm.pause();
    if(typeof player !== "undefined" && player.pauseVideo) player.pauseVideo();
});
</script>

</body>
</html>